## v4.0.0

This release simplifies how change “surface” is determined and makes it easier to control classification explicitly. It also removes the repo-instructions feature, which affects both the public API and how prompts/pipelines are built.

### Highlights

- New CLI flags let you explicitly mark paths as public or internal for changelog/release-note generation.
- Surface classification is now driven by explicit overrides rather than repo instruction files.

### For Non-Developers

- The older “repo instructions” mechanism has been removed to reduce complexity and make behavior more predictable.
- You can now tell the tool which parts of a project should be treated as “public” or “internal” using simple command options, which helps produce more accurate release notes.

### Breaking Changes

- Repo-instruction resolution has been removed from the package’s public API (including exports related to resolving instructions).

**Action required:** Yes. If you were using the removed instruction-resolution exports or relying on repo instruction files to influence classification, you’ll need to switch to the new explicit surface override options.

### Upgrade Guide (Developers)

1. Remove any usage of the removed instruction-resolution exports (including functions/types related to resolving instructions).
2. If you previously relied on repo instruction files to affect what’s considered public vs internal, migrate to explicit surface overrides:
   - Or, if you use the programmatic API, pass `defaultClassifyOverrides` to changelog/release-notes/prepublish generation.
   - Use the new repeatable CLI flags: `--public-path-prefix`, `--public-file-path`, and `--internal-path-prefix`.
3. If you run automated version bumping, ensure your configuration passes the same `defaultClassifyOverrides` so bump decisions reflect your intended public/internal boundaries.

### Fixes

- Pipelines and prompts no longer attempt to resolve or include repo instructions, aligning behavior with the new explicit override model.

### Deprecations

- The repo-instructions feature has been removed (no longer supported).
